
{
  "rules": {
    "app": {
      // The API key can be read by anyone (including our API route)
      // but only written by the server (via database secret)
      "apiKey": {
        ".read": true,
        ".write": false
      },
      // Authenticated users of the web app can control the switches
      "switchStates": {
        ".read": "auth != null",
        ".write": "auth != null"
      },
      // Energy data can be read by authenticated web app users
      // but only written by the server (via database secret)
      "energyData": {
        ".read": "auth != null",
        ".write": false
      }
    }
  }
}
